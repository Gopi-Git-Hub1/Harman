Purpose:

1. The DLT Viewer tool can decode, view and store DLT messages generated by the DLT Daemon.
2. The main Purpose of DLT Viewer tool enables the software developer and the tester of the device to view and control the logs and trace information.

Restrictions and limitations:

1. maximum log file size basically limited by the file system, but it is recommended to use < 10 GB
performance is reduced Crashes at about 21 GB on a 64 bit Ubuntu machine with 64GB RAM.

Features:

1. Graphical User Interface
   a Menu and toolbar - File, Search, Project, Config, DLT, Filter, Plugin, View and Help.
   b Project widget/Panel - config, plugin, filter
   c DLT Message Table
   d Plugin Widget 
   e Search results widget
   f Footer with information about the current file etc.

2. View DLT files 
3. Retrieve DLT messages from targets and store them in DLT files
4. Filter DLT messages for analyzing
5. Clipboard support - Copy selected DLT messages to clipboard
6. Export of DLT files in multiple formats - DLT format with selection, ASCII format, CSV format
7. Search DLT messages
8. Project configurations
9. Plugin configurations

//////////////////////////////////////////////////

dlt-daemon configuration:

git clone --recurse-submodules git@github.com:COVESA/dlt-daemon.git

cd dlt-daemon/

mkdir build

cd build/

cmake ..

if not.....

sudo apt update

sudo apt install cmake

cmake ..

cmake --build . --config Debug

/mnt/c/Users/chagopi/GOPI/dlt-daemon/src/offlinelogstorage/dlt_offline_logstorage.h:56:10: fatal error: zlib.h: No such file or directory
   56 | #include <zlib.h>


sudo apt install zlib1g-dev

cmake --build . --config Debug

////////////////////////
if not /usr/local/include/dlt
       /usr/local/lib/  paths not having contant

cd dlt-daemon/build
cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local
make clean
make -j$(nproc)
sudo make install


////////////////////////
1) find . -iname *daemon

cd src/daemon/

./dlt-daemon

2) find . -name *user

cd tests/

./dlt-test-user

3) find . -name *client

cd /src/tests/

./dlt-test-client localhost


ps -eaf | grep dlt-daemon
systemctl status dlt-daemon
pgrep -fl dlt-daemon

sudo kill <PID>

sudo kill -9 2589


1. Ensure ECU is Connected

Make sure ECU is physically or virtually connected to your WSL environment. If it's via USB or serial, you may need to map the device into WS

ls /dev/tty*

2. Configure dlt.conf

Create or edit the config file at /usr/local/etc/dlt.conf (or wherever your build expects it). Here's a minimal example:



[general]
loglevel = 6

[connection]
type = serial
device = /dev/ttyUSB0
baudrate = 115200

Adjust device and baudrate based on ECU connection.


[general]
loglevel = 6
verbose = 1

[connection]
type = serial
device = /dev/tty10
baudrate = 115200
flowcontrol = none
parity = none
stopbits = 1
databits = 8

 Notes:
device = /dev/tty10: This is your ECU interface.
baudrate = 115200: Common default; adjust if your ECU uses a different rate.
loglevel = 6: Enables detailed logging (INFO and above).
verbose = 1: Enables verbose output for debugging.

Save the File:

Save this as /usr/local/etc/dlt.conf (or wherever your dlt-daemon expects it):

sudo nano /usr/local/etc/dlt.conf


ls -l /usr/local/etc/dlt.conf

if not create the config file manually.

sudo mkdir -p /usr/local/etc
sudo nano /usr/local/etc/dlt.conf


sudo chmod 644 /usr/local/etc/dlt.conf
sudo chown root:root /usr/local/etc/dlt.conf


general]
loglevel = INFO

[output]
file = /var/log/dlt.log

Modify the dlt.conf file:
sudo nano /usr/local/etc/dlt.conf
Save and exit (Ctrl+O, Enter, then Ctrl+X in nano).

3. Run dlt-daemon

sudo ./dlt-daemon

If it starts successfully, it will begin listening for DLT messages from the ECU


4. Capture Logs to File

can redirect output to a file:


sudo ./dlt-daemon > dlt_logs.txt 2>&1


use a DLT viewer tool like DLT Viewer on Windows to connect to the daemon and visualize logs.

5. Verify Communication

logs or terminal output for messages like:

DLT message received from ECU...

If nothing appears, verify:

The ECU is sending DLT messages.
The connection type and port are correct.
No firewall or permission issues exist.


./dlt-daemon > hanuman.txt  -> The executable dlt-daemon and redirecting its standard output (stdout) to a file named hanuman.txt.

Append to the file instead of overwriting: use >> like this ->  ./dlt-daemon >> hanuman.txt

Capture both stdout and stderr ->  ./dlt-daemon > hanuman.txt 2>&1

//////////////////////////////////////////////////////

capture .dlt dlt-daemon:

find . -name *dlt-receive

./src/console/dlt-receive

dlt-receive localhost -o output.dlt

debug logs:
./dlt-daemon -c ./dlt.conf

LoggingLevel = 7
ContextLogLevel = 5

[general]
LogLevel = 7
ContextLogLevel = 5
LogFile = ./dlt_output.log

verbose mode:
dlt-receive -v -a localhost -o output.dlt

non-verbose mode:
dlt-receive -a localhost -o output.dlt


Options:
  -a            Print DLT messages; payload as ASCII
  -x            Print DLT messages; payload as hex
  -m            Print DLT messages; payload as hex and ASCII
  -s            Print DLT messages; only headers
  -v            Verbose mode
  -h            Usage
  -S            Send message with serial header (Default: Without serial header)
  -R            Enable resync serial header
  -y            Serial device mode
  -u            UDP multicast mode
  -r msecs      Reconnect to server with milli seconds specified
  -i addr       Host interface address
  -b baudrate   Serial device baudrate (Default: 115200)
  -e ecuid      Set ECU ID (Default: RECV)
  -o filename   Output messages in new DLT file
  -c limit      Restrict file size to <limit> bytes when output to file
                When limit is reached, a new file is opened. Use K,M,G as
                suffix to specify kilo-, mega-, giga-bytes respectively
  -f filename   Enable filtering of messages with space separated list (<AppID> <ContextID>)
  -j filename   Enable filtering of messages with filter defined in json file
  -p port       Use the given port instead the default port

/////////////////////////////////////////////


Start the dlt-daemon with the appropriate configuration:


sudo ./dlt-daemon -c /usr/local/etc/dlt.conf


Find WSL IP -> ip addr show eth0

inet 172.24.24.225/20 brd 172.24.31.255 scope global eth0

The IP address here is 172.24.24.225 â€” this is your WSL instance's IP address.

////////////////////////////////////////

Register an application and context with the DLT daemon.

Send log messages with different severity levels.

DLT_LOG_FATAL	Critical error, system may crash
DLT_LOG_ERROR	Error occurred, needs attention
DLT_LOG_WARN	Warning, potential issue
DLT_LOG_INFO	Informational messages
DLT_LOG_DEBUG	Debugging messages
DLT_LOG_VERBOSE	Very detailed debug info

Clean up by unregistering the context and application.



///////////////////////////////////
1) /mnt/c/Users/chagopi/GOPI/dlt-daemon/build/src/daemon

./del-daemon

2) /mnt/c/Users/chagopi/GOPI/dlt-daemon/build/src/console

dlt-receive loglevels_dlt.dlt -o localhost
dlt-receive localhost -o output.dlt

3) /mnt/c/Users/chagopi/GOPI/dlt-daemon

g++ -std=c++11 sample_dlt.cpp -ldlt -o sample_dlt
g++ sample_dlt.cpp -ldlt -o sample_dlt

./sample_dlt




